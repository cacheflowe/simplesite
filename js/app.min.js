/*! site-starter 2017-05-09 */

(function(){window.embetter={};var embetter=window.embetter;embetter.debug=true;embetter.curEmbeds=[];embetter.mobileScrollTimeout=null;embetter.mobileScrollSetup=false;embetter.apiEnabled=false;embetter.apiAutoplayCallback=null;embetter.defaultThumbnail="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAGcAQMAAAABMOGrAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAADUExURQAAAKd6PdoAAAA6SURBVHja7cGBAAAAAMOg+VPf4ARVAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAN488AAGP4e1mAAAAAElFTkSuQmCC";embetter.utils={buildRegex:function(regexStr){var optionalPrefix="(?:https?:\\/\\/)?(?:w{3}\\.)?";var terminator="(?:\\/?|$|\\s|\\?|#)";return new RegExp(optionalPrefix+regexStr+terminator)},stringToDomElement:function(str){var div=document.createElement("div");div.innerHTML=str;return div.firstChild},playerHTML:function(service,mediaUrl,thumbnail,id){return'<div class="embetter" '+service.dataAttribute+'="'+id+'">          <a href="'+mediaUrl+'" target="_blank"><img src="'+thumbnail+'"></a>        </div>'},isMobile:function(){return navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod|android/)?true:false}(),matches:function(){var b=document.createElement("div");return b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector}(),parentSelector:function(node,selector){if(this.matches.bind(node)(selector)){return node}node=node.parentNode;while(node&&node!==document){if(this.matches.bind(node)(selector)){return node}else{node=node.parentNode}}return false},initMediaPlayers:function(el,services){for(var i=0;i<services.length;i++){var service=services[i];var serviceEmbedContainers=el.querySelectorAll("div["+service.dataAttribute+"]");for(var j=0;j<serviceEmbedContainers.length;j++){embetter.utils.initPlayer(serviceEmbedContainers[j],service)}}if(embetter.utils.isMobile&&embetter.mobileScrollSetup==false){window.addEventListener("scroll",embetter.utils.scrollListener);embetter.mobileScrollSetup=true;window.scroll(window.scrollX,window.scrollY+1);window.scroll(window.scrollX,window.scrollY-1)}},scrollListener:function(){if(embetter.mobileScrollTimeout!=null){window.clearTimeout(embetter.mobileScrollTimeout)}embetter.mobileScrollTimeout=setTimeout(function(){for(var i=0;i<embetter.curEmbeds.length;i++){var player=embetter.curEmbeds[i];var playerRect=player.el.getBoundingClientRect();if(playerRect.top<window.innerHeight&&playerRect.bottom>0){if(player.getType()!=="codepen"){player.embedMedia(false)}}else{player.unembedMedia()}}},500)},initPlayer:function(embedEl,service){if(embedEl.classList.contains("embetter-ready")==true)return;if(embedEl.classList.contains("embetter-static")==true)return;embetter.curEmbeds.push(new embetter.EmbetterPlayer(embedEl,service))},unembedPlayers:function(containerEl){for(var i=0;i<embetter.curEmbeds.length;i++){if(containerEl&&containerEl.contains(embetter.curEmbeds[i].el)){embetter.curEmbeds[i].unembedMedia()}}},disposePlayers:function(){for(var i=0;i<embetter.curEmbeds.length;i++){embetter.curEmbeds[i].dispose()}window.removeEventListener("scroll",embetter.utils.scrollListener);embetter.mobileScrollSetup=false;embetter.curEmbeds.splice(0,embetter.curEmbeds.length-1)},mediaComplete:function(){if(embetter.curPlayer!==null){var playerEl=embetter.curPlayer.el;var playlistContainer=this.parentSelector(playerEl,"[data-embetter-playlist]");if(playlistContainer){var playlistPlayerEls=playlistContainer.querySelectorAll(".embetter");for(var i=0;i<playlistPlayerEls.length-1;i++){if(playlistPlayerEls[i].classList.contains("embetter-playing")){var nextPlayerObj=embetter.utils.getPlayerFromEl(playlistPlayerEls[i+1]);if(nextPlayerObj){nextPlayerObj.play();if(embetter.apiAutoplayCallback)embetter.apiAutoplayCallback(nextPlayerObj.el)}break}}}}},getPlayerFromEl:function(el){for(var i=0;i<embetter.curEmbeds.length;i++){if(el===embetter.curEmbeds[i].el){return embetter.curEmbeds[i]}}return null},disposeDetachedPlayers:function(){for(var i=embetter.curEmbeds.length-1;i>=0;i--){var embed=embetter.curEmbeds[i];if(document.body.contains(embed.el)===false||embed.el===null){embed.dispose();delete embetter.curEmbeds.splice(i,1)}}},loadRemoteScript:function(scriptURL){var tag=document.createElement("script");tag.src=scriptURL;var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}};embetter.services={};embetter.services.video={type:"video",dataAttribute:"data-video-url",regex:embetter.utils.buildRegex("(.mp4|.mov|.m4v)"),embed:function(id,w,h,autoplay,poster){var autoplayAttr=autoplay==true?' autoplay="true" ':"";return'<video id="'+id+'" src="'+id+'" poster="'+poster+'" '+autoplayAttr+' width="'+w+'" height="'+h+'" controls="true" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'}};embetter.services.gif={type:"gif",dataAttribute:"data-gif-url",regex:embetter.utils.buildRegex(".gif"),embed:function(id,w,h,autoplay,poster){return'<img class="gif" id="'+id+'" src="'+id+'" width="'+w+'" height="'+h+'">'}};embetter.services.youtube={type:"youtube",dataAttribute:"data-youtube-id",regex:/(?:.+?)?(?:youtube\.com\/v\/|watch\/|\?v=|\&v=|youtu\.be\/|\/v=|^youtu\.be\/)([a-zA-Z0-9_-]{11})+/,embed:function(id,w,h,autoplay,poster){var autoplayQuery=autoplay===true?"&autoplay=1":"";return'<iframe class="video" enablejsapi="1" width="'+w+'" height="'+h+'" src="https://www.youtube.com/embed/'+id+"?rel=0&suggestedQuality=hd720&enablejsapi=1"+autoplayQuery+'" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"https://www.youtube.com/watch?v="+id},loadAPI:function(apiLoadedCallback){var self=this;if(typeof window.onYouTubeIframeAPIReady!=="undefined"){apiLoadedCallback();self.activateCurrentPlayer();return}embetter.utils.loadRemoteScript("https://www.youtube.com/iframe_api");function onYouTubeIframeAPIReady(){apiLoadedCallback();self.activateCurrentPlayer()}window.onYouTubeIframeAPIReady=onYouTubeIframeAPIReady},activateCurrentPlayer:function(){this.currentIframe=document.querySelector(".embetter-playing[data-youtube-id] iframe");this.currentIframe.id=document.querySelector(".embetter-playing").getAttribute("data-youtube-id");if(this.currentIframe.id){this.apiPlayer=new YT.Player(this.currentIframe.id,{events:{onReady:function(){},onPlaybackQualityChange:function(){},onError:function(){embetter.utils.mediaComplete()},onStateChange:function(e){if(e.data==0){embetter.utils.mediaComplete()}}}})}}};embetter.services.vimeo={type:"vimeo",dataAttribute:"data-vimeo-id",regex:embetter.utils.buildRegex("vimeo.com/(\\S*)"),embed:function(id,w,h,autoplay,poster){var autoplayQuery=autoplay==true?"&amp;autoplay=1":"";return'<iframe id="'+id+'" src="//player.vimeo.com/video/'+id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff&amp;api=1&amp;player_id="+id+autoplayQuery+'" width="'+w+'" height="'+h+'" frameborder="0" scrolling="no" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"https://vimeo.com/"+id},loadAPI:function(apiLoadedCallback){var self=this;if(typeof window.Froogaloop!=="undefined"){apiLoadedCallback();self.activateCurrentPlayer();return}embetter.utils.loadRemoteScript("https://f.vimeocdn.com/js/froogaloop2.min.js");var vimeoApiLoad=setInterval(function(){if(typeof window.Froogaloop!=="undefined"){window.clearInterval(vimeoApiLoad);apiLoadedCallback();self.activateCurrentPlayer()}},50)},activateCurrentPlayer:function(){this.currentIframe=document.querySelector(".embetter-playing[data-vimeo-id] iframe");this.currentIframe.id=document.querySelector(".embetter-playing").getAttribute("data-vimeo-id");if(this.currentIframe.id){var self=this;this.apiPlayer=$f(this.currentIframe);this.apiPlayer.addEvent("ready",function(){self.apiPlayer.addEvent("pause",function(id){});self.apiPlayer.addEvent("finish",function(id){embetter.utils.mediaComplete()});self.apiPlayer.addEvent("playProgress",function(data,id){})})}}};embetter.services.soundcloud={type:"soundcloud",dataAttribute:"data-soundcloud-id",regex:embetter.utils.buildRegex("(?:soundcloud.com|snd.sc)\\/([a-zA-Z0-9_-]*(?:\\/sets)?(?:\\/groups)?\\/[a-zA-Z0-9_-]*)"),embed:function(id,w,h,autoplay,poster){var autoplayQuery=autoplay==true?"&amp;auto_play=true":"";if(!id.match(/^(playlist|track|group)/))id="tracks/"+id;return'<iframe id="sc-widget" width="100%" height="600" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/'+id+autoplayQuery+'&amp;hide_related=false&amp;color=373737&amp;show_comments=false&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>'},link:function(id){return"https://soundcloud.com/"+id},loadAPI:function(apiLoadedCallback){var self=this;if(typeof window.SC!=="undefined"){apiLoadedCallback();self.activateCurrentPlayer();return}embetter.utils.loadRemoteScript("https://w.soundcloud.com/player/api.js");var soundcloudApiLoad=setInterval(function(){if(typeof window.SC!=="undefined"){window.clearInterval(soundcloudApiLoad);apiLoadedCallback();self.activateCurrentPlayer()}},50)},activateCurrentPlayer:function(){this.currentIframe=document.querySelector(".embetter-playing[data-soundcloud-id] iframe");this.currentIframe.id=document.querySelector(".embetter-playing").getAttribute("data-soundcloud-id");if(this.currentIframe.id){widget=SC.Widget(this.currentIframe);widget.bind(SC.Widget.Events.READY,function(){widget.bind(SC.Widget.Events.FINISH,function(){embetter.utils.mediaComplete()})})}}};embetter.services.instagram={type:"instagram",dataAttribute:"data-instagram-id",regex:embetter.utils.buildRegex("(?:instagram.com|instagr.am)/p/([a-zA-Z0-9-_]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="100%" height="600" scrolling="no" frameborder="no" src="https://instagram.com/p/'+id+'/embed/"></iframe>'},link:function(id){return"https://instagram.com/p/"+id+"/"}};embetter.services.dailymotion={type:"dailymotion",dataAttribute:"data-dailymotion-id",regex:embetter.utils.buildRegex("dailymotion.com/video/([a-zA-Z0-9-_]*)"),embed:function(id,w,h,autoplay,poster){var autoplayQuery=autoplay==true?"?autoPlay=1":"";return'<iframe class="video" width="'+w+'" height="'+h+'" src="//www.dailymotion.com/embed/video/'+id+autoplayQuery+'" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"http://www.dailymotion.com/video/"+id}};embetter.services.mixcloud={type:"mixcloud",dataAttribute:"data-mixcloud-id",regex:embetter.utils.buildRegex("(?:mixcloud.com)\\/(.*\\/.*)"),embed:function(id,w,h,autoplay,poster){var autoplayQuery=autoplay==true?"&amp;autoplay=true":"";return'<iframe width="660" height="180" src="https://www.mixcloud.com/widget/iframe/?feed='+window.escape("http://www.mixcloud.com/"+id)+"&amp;replace=0&amp;hide_cover=1&amp;stylecolor=ffffff&amp;embed_type=widget_standard&amp;"+autoplayQuery+'" frameborder="0" scrolling="no"></iframe>'},link:function(id){return"https://www.mixcloud.com/"+id}};embetter.services.codepen={type:"codepen",dataAttribute:"data-codepen-id",regex:embetter.utils.buildRegex("(?:codepen.io)\\/([a-zA-Z0-9_\\-%]*\\/[a-zA-Z0-9_\\-%]*\\/[a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){id=id.replace("/pen/","/embed/");var user=id.split("/")[0];var slugHash=id.split("/")[2];return'<iframe src="//codepen.io/'+id+"?height="+h+"&amp;theme-id=0&amp;slug-hash="+slugHash+"&amp;default-tab=result&amp;user="+user+'" frameborder="0" scrolling="no" allowtransparency="true" allowfullscreen="true"></iframe>'},link:function(id){id=id.replace("/embed/","/pen/");return"http://codepen.io/"+id}};embetter.services.bandcamp={type:"bandcamp",dataAttribute:"data-bandcamp-id",regex:embetter.utils.buildRegex("([a-zA-Z0-9_\\-]*.bandcamp.com\\/(album|track)\\/[a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe src="https://bandcamp.com/EmbeddedPlayer/'+id+'/size=large/bgcol=ffffff/linkcol=333333/tracklist=true/artwork=small/transparent=true/" frameborder="0" scrolling="no" allowtransparency="true" allowfullscreen="true" seamless></iframe>'},link:function(id){return"https://"+id}};embetter.services.ustream={type:"ustream",dataAttribute:"data-ustream-id",regex:embetter.utils.buildRegex("(?:ustream.tv|ustre.am)\\/((?:(recorded|channel)\\/)?[a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){var autoplayQuery=autoplay==true?"&amp;autoplay=true":"";return'<iframe width="480" height="300" src="http://www.ustream.tv/embed/'+id+"?"+autoplayQuery+'" frameborder="0" scrolling="no" allowtransparency="true" allowfullscreen="true"></iframe>'},link:function(id){return"http://www.ustream.tv/"+id}};embetter.services.imgur={type:"imgur",dataAttribute:"data-imgur-id",regex:embetter.utils.buildRegex("(?:imgur.com)\\/((?:gallery\\/)?[a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="'+w+'" height="'+h+'" src="https://www.imgur.com/'+id+'/embed" " frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"https://imgur.com/"+id}};embetter.services.vine={type:"vine",dataAttribute:"data-vine-id",regex:embetter.utils.buildRegex("vine.co\\/v\\/([a-zA-Z0-9-]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="'+w+'" height="'+h+'" src="https://vine.co/v/'+id+'/card?mute=1" " frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"https://vine.co/v/"+id}};embetter.services.slideshare={type:"slideshare",dataAttribute:"data-slideshare-id",regex:embetter.utils.buildRegex("slideshare.net\\/([a-zA-Z0-9_\\-%]*\\/[a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="427" height="356" src="https://www.slideshare.net/slideshow/embed_code/key/'+id+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"https://www.slideshare.net/"+id}};embetter.services.giphy={type:"giphy",dataAttribute:"data-giphy-id",regex:embetter.utils.buildRegex("giphy.com\\/gifs\\/([a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="'+w+'" height="'+h+'" src="https://giphy.com/embed/'+id+'/twitter/iframe" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(dashedId){return"https://giphy.com/gifs/"+dashedId}};embetter.services.shadertoy={type:"shadertoy",dataAttribute:"data-shadertoy-id",regex:embetter.utils.buildRegex("shadertoy.com\\/view\\/([a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="'+w+'" height="'+h+'" src="https://www.shadertoy.com/embed/'+id+'?gui=true&t=10&paused=false&muted=false" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"https://www.shadertoy.com/view/"+id}};embetter.services.kuula={type:"kuula",dataAttribute:"data-kuula-id",regex:embetter.utils.buildRegex("kuula.co\\/post\\/([a-zA-Z0-9_\\-%]*)"),embed:function(id,w,h,autoplay,poster){return'<iframe width="'+w+'" height="'+h+'" src="http://www.kuula.co/share/'+id+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe>'},link:function(id){return"http://www.kuula.co/post/"+id}};embetter.curPlayer=null;embetter.EmbetterPlayer=function(el,serviceObj){this.el=el;this.el.classList.add("embetter-ready");this.serviceObj=serviceObj;this.id=this.el.getAttribute(serviceObj.dataAttribute);this.thumbnail=this.el.querySelector("img");this.playerEl=null;this.buildPlayButton();this.checkForBadThumbnail()};embetter.EmbetterPlayer.prototype.buildPlayButton=function(){this.playButton=document.createElement("div");this.playButton.classList.add("embetter-loading");this.el.appendChild(this.playButton);this.playButton=document.createElement("div");this.playButton.classList.add("embetter-play-button");this.el.appendChild(this.playButton);var self=this;this.playHandler=function(){self.play()};this.playButton.addEventListener("click",this.playHandler)};embetter.EmbetterPlayer.prototype.checkForBadThumbnail=function(){var self=this;this.thumbnail.onerror=function(){self.fallbackThumbnail()};setTimeout(function(){if(self.thumbnail.height<50){self.fallbackThumbnail()}},4e3)};embetter.EmbetterPlayer.prototype.fallbackThumbnail=function(){this.thumbnail.src=embetter.defaultThumbnail};embetter.EmbetterPlayer.prototype.getType=function(){return this.serviceObj.type};embetter.EmbetterPlayer.prototype.play=function(){if(embetter.curPlayer!=null){embetter.curPlayer.unembedMedia();embetter.curPlayer=null}var self=this;var startPlaying=function(){self.embedMedia(true);embetter.curPlayer=self};if(this.serviceObj.loadAPI&&embetter.apiEnabled==true&&embetter.utils.isMobile==false){this.serviceObj.loadAPI(startPlaying)}else{startPlaying()}};embetter.EmbetterPlayer.prototype.unembedMedia=function(){if(this.playerEl!=null&&this.playerEl.parentNode!=null){this.playerEl.parentNode.removeChild(this.playerEl)}this.el.classList.remove("embetter-playing")};embetter.EmbetterPlayer.prototype.embedMedia=function(autoplay){if(this.el.classList.contains("embetter-playing")==true)return;if(this.id!=null)this.playerEl=embetter.utils.stringToDomElement(this.serviceObj.embed(this.id,this.thumbnail.width,this.thumbnail.height,autoplay,this.thumbnail.src));this.el.appendChild(this.playerEl);this.el.classList.add("embetter-playing")};embetter.EmbetterPlayer.prototype.dispose=function(){this.el.classList.remove("embetter-ready");this.unembedMedia();this.playButton.removeEventListener("click",this.playHandler);if(this.playButton!=null&&this.playButton.parentNode!=null){this.playButton.parentNode.removeChild(this.playButton)}}})();"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var EasyScroll=function(){function EasyScroll(){var scrollEl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window;_classCallCheck(this,EasyScroll);this.scrollEl=scrollEl;this.startScrollY=0;this.scrollDist=0;this.frame=0;this.frames=0}_createClass(EasyScroll,[{key:"easeInOutQuad",value:function easeInOutQuad(t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*(--t*(t-2)-1)+b}},{key:"animateScroll",value:function animateScroll(){var _this=this;this.frame++;if(this.frame<=this.frames)requestAnimationFrame(function(){return _this.animateScroll()});var percentComplete=this.frame/this.frames;var scrollProgress=this.scrollDist*this.easeInOutQuad(percentComplete,0,1,1);if(this.scrollEl==window){window.scrollTo(0,Math.round(this.startScrollY-scrollProgress))}else{this.scrollEl.scrollTop=Math.round(this.startScrollY-scrollProgress)}}},{key:"scrollByY",value:function scrollByY(duration,scrollAmount){var _this2=this;this.startScrollY=this.scrollEl==window?window.scrollY:this.scrollEl.scrollTop;this.scrollDist=scrollAmount;this.frame=0;this.frames=Math.floor(duration/16);requestAnimationFrame(function(){return _this2.animateScroll()})}},{key:"scrollToEl",value:function scrollToEl(duration,el,offset){var pageOffset=this.scrollEl==window?0:this.scrollEl.getBoundingClientRect().top;this.scrollByY(duration,-el.getBoundingClientRect().top+offset+pageOffset)}},{key:"setScrollEl",value:function setScrollEl(el){this.scrollEl=el}}]);return EasyScroll}();!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.page=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(process){"use strict";var pathtoRegexp=require("path-to-regexp");module.exports=page;var clickEvent="undefined"!==typeof document&&document.ontouchstart?"touchstart":"click";var location="undefined"!==typeof window&&(window.history.location||window.location);var dispatch=true;var decodeURLComponents=true;var base="";var running;var hashbang=false;var prevContext;function page(path,fn){if("function"===typeof path){return page("*",path)}if("function"===typeof fn){var route=new Route(path);for(var i=1;i<arguments.length;++i){page.callbacks.push(route.middleware(arguments[i]))}}else if("string"===typeof path){page["string"===typeof fn?"redirect":"show"](path,fn)}else{page.start(path)}}page.callbacks=[];page.exits=[];page.current="";page.len=0;page.base=function(path){if(0===arguments.length)return base;base=path};page.start=function(options){options=options||{};if(running)return;running=true;if(false===options.dispatch)dispatch=false;if(false===options.decodeURLComponents)decodeURLComponents=false;if(false!==options.popstate)window.addEventListener("popstate",onpopstate,false);if(false!==options.click){document.addEventListener(clickEvent,onclick,false)}if(true===options.hashbang)hashbang=true;if(!dispatch)return;var url=hashbang&&~location.hash.indexOf("#!")?location.hash.substr(2)+location.search:location.pathname+location.search+location.hash;page.replace(url,null,true,dispatch)};page.stop=function(){if(!running)return;page.current="";page.len=0;running=false;document.removeEventListener(clickEvent,onclick,false);window.removeEventListener("popstate",onpopstate,false)};page.show=function(path,state,dispatch,push){var ctx=new Context(path,state);page.current=ctx.path;if(false!==dispatch)page.dispatch(ctx);if(false!==ctx.handled&&false!==push)ctx.pushState();return ctx};page.back=function(path,state){if(page.len>0){history.back();page.len--}else if(path){setTimeout(function(){page.show(path,state)})}else{setTimeout(function(){page.show(base,state)})}};page.redirect=function(from,to){if("string"===typeof from&&"string"===typeof to){page(from,function(e){setTimeout(function(){page.replace(to)},0)})}if("string"===typeof from&&"undefined"===typeof to){setTimeout(function(){page.replace(from)},0)}};page.replace=function(path,state,init,dispatch){var ctx=new Context(path,state);page.current=ctx.path;ctx.init=init;ctx.save();if(false!==dispatch)page.dispatch(ctx);return ctx};page.dispatch=function(ctx){var prev=prevContext,i=0,j=0;prevContext=ctx;function nextExit(){var fn=page.exits[j++];if(!fn)return nextEnter();fn(prev,nextExit)}function nextEnter(){var fn=page.callbacks[i++];if(ctx.path!==page.current){ctx.handled=false;return}if(!fn)return unhandled(ctx);fn(ctx,nextEnter)}if(prev){nextExit()}else{nextEnter()}};function unhandled(ctx){if(ctx.handled)return;var current;if(hashbang){current=base+location.hash.replace("#!","")}else{current=location.pathname+location.search}if(current===ctx.canonicalPath)return;page.stop();ctx.handled=false;location.href=ctx.canonicalPath}page.exit=function(path,fn){if(typeof path==="function"){return page.exit("*",path)}var route=new Route(path);for(var i=1;i<arguments.length;++i){page.exits.push(route.middleware(arguments[i]))}};function decodeURLEncodedURIComponent(val){if(typeof val!=="string"){return val}return decodeURLComponents?decodeURIComponent(val.replace(/\+/g," ")):val}function Context(path,state){if("/"===path[0]&&0!==path.indexOf(base))path=base+(hashbang?"#!":"")+path;var i=path.indexOf("?");this.canonicalPath=path;this.path=path.replace(base,"")||"/";if(hashbang)this.path=this.path.replace("#!","")||"/";this.title=document.title;this.state=state||{};this.state.path=path;this.querystring=~i?decodeURLEncodedURIComponent(path.slice(i+1)):"";this.pathname=decodeURLEncodedURIComponent(~i?path.slice(0,i):path);this.params={};this.hash="";if(!hashbang){if(!~this.path.indexOf("#"))return;var parts=this.path.split("#");this.path=parts[0];this.hash=decodeURLEncodedURIComponent(parts[1])||"";this.querystring=this.querystring.split("#")[0]}}page.Context=Context;Context.prototype.pushState=function(){page.len++;history.pushState(this.state,this.title,hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};Context.prototype.save=function(){history.replaceState(this.state,this.title,hashbang&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};function Route(path,options){options=options||{};this.path=path==="*"?"(.*)":path;this.method="GET";this.regexp=pathtoRegexp(this.path,this.keys=[],options)}page.Route=Route;Route.prototype.middleware=function(fn){var self=this;return function(ctx,next){if(self.match(ctx.path,ctx.params))return fn(ctx,next);next()}};Route.prototype.match=function(path,params){var keys=this.keys,qsIndex=path.indexOf("?"),pathname=~qsIndex?path.slice(0,qsIndex):path,m=this.regexp.exec(decodeURIComponent(pathname));if(!m)return false;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=decodeURLEncodedURIComponent(m[i]);if(val!==undefined||!hasOwnProperty.call(params,key.name)){params[key.name]=val}}return true};var onpopstate=function(){var loaded=false;if("undefined"===typeof window){return}if(document.readyState==="complete"){loaded=true}else{window.addEventListener("load",function(){setTimeout(function(){loaded=true},0)})}return function onpopstate(e){if(!loaded)return;if(e.state){var path=e.state.path;page.replace(path,e.state)}else{page.show(location.pathname+location.hash,undefined,undefined,false)}}}();function onclick(e){if(1!==which(e))return;if(e.metaKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;var el=e.path?e.path[0]:e.target;while(el&&"A"!==el.nodeName)el=el.parentNode;if(!el||"A"!==el.nodeName)return;if(el.hasAttribute("download")||el.getAttribute("rel")==="external")return;var link=el.getAttribute("href");if(!hashbang&&el.pathname===location.pathname&&(el.hash||"#"===link))return;if(link&&link.indexOf("mailto:")>-1)return;if(el.target)return;if(!sameOrigin(el.href))return;var path=el.pathname+el.search+(el.hash||"");if(typeof process!=="undefined"&&path.match(/^\/[a-zA-Z]:\//)){path=path.replace(/^\/[a-zA-Z]:\//,"/")}var orig=path;if(path.indexOf(base)===0){path=path.substr(base.length)}if(hashbang)path=path.replace("#!","");if(base&&orig===path)return;e.preventDefault();page.show(orig)}function which(e){e=e||window.event;return null===e.which?e.button:e.which}function sameOrigin(href){var origin=location.protocol+"//"+location.hostname;if(location.port)origin+=":"+location.port;return href&&0===href.indexOf(origin)}page.sameOrigin=sameOrigin}).call(this,require("_process"))},{_process:2,"path-to-regexp":3}],2:[function(require,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canMutationObserver=typeof window!=="undefined"&&window.MutationObserver;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}var queue=[];if(canMutationObserver){var hiddenDiv=document.createElement("div");var observer=new MutationObserver(function(){var queueList=queue.slice();queue.length=0;queueList.forEach(function(fn){fn()})});observer.observe(hiddenDiv,{attributes:true});return function nextTick(fn){if(!queue.length){hiddenDiv.setAttribute("yes","no")}queue.push(fn)}}if(canPost){window.addEventListener("message",function(ev){var source=ev.source;if((source===window||source===null)&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],3:[function(require,module,exports){var isarray=require("isarray");module.exports=pathToRegexp;module.exports.parse=parse;module.exports.compile=compile;module.exports.tokensToFunction=tokensToFunction;module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str){var tokens=[];var key=0;var index=0;var path="";var res;while((res=PATH_REGEXP.exec(str))!=null){var m=res[0];var escaped=res[1];var offset=res.index;path+=str.slice(index,offset);index=offset+m.length;if(escaped){path+=escaped[1];continue}if(path){tokens.push(path);path=""}var prefix=res[2];var name=res[3];var capture=res[4];var group=res[5];var suffix=res[6];var asterisk=res[7];var repeat=suffix==="+"||suffix==="*";var optional=suffix==="?"||suffix==="*";var delimiter=prefix||"/";var pattern=capture||group||(asterisk?".*":"[^"+delimiter+"]+?");tokens.push({name:name||key++,prefix:prefix||"",delimiter:delimiter,optional:optional,repeat:repeat,pattern:escapeGroup(pattern)})}if(index<str.length){path+=str.substr(index)}if(path){tokens.push(path)}return tokens}function compile(str){return tokensToFunction(parse(str))}function tokensToFunction(tokens){var matches=new Array(tokens.length);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]==="object"){matches[i]=new RegExp("^"+tokens[i].pattern+"$")}}return function(obj){var path="";var data=obj||{};for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data[token.name];var segment;if(value==null){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to be defined')}}if(isarray(value)){if(!token.repeat){throw new TypeError('Expected "'+token.name+'" to not repeat, but received "'+value+'"')}if(value.length===0){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to not be empty')}}for(var j=0;j<value.length;j++){segment=encodeURIComponent(value[j]);if(!matches[i].test(segment)){throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=(j===0?token.prefix:token.delimiter)+segment}continue}segment=encodeURIComponent(value);if(!matches[i].test(segment)){throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=token.prefix+segment}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){re.keys=keys;return re}function flags(options){return options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups){for(var i=0;i<groups.length;i++){keys.push({name:i,prefix:null,delimiter:null,optional:false,repeat:false,pattern:null})}}return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){var parts=[];for(var i=0;i<path.length;i++){parts.push(pathToRegexp(path[i],keys,options).source)}var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}
function stringToRegexp(path,keys,options){var tokens=parse(path);var re=tokensToRegExp(tokens,options);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]!=="string"){keys.push(tokens[i])}}return attachKeys(re,keys)}function tokensToRegExp(tokens,options){options=options||{};var strict=options.strict;var end=options.end!==false;var route="";var lastToken=tokens[tokens.length-1];var endsWithSlash=typeof lastToken==="string"&&/\/$/.test(lastToken);for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){route+=escapeString(token)}else{var prefix=escapeString(token.prefix);var capture=token.pattern;if(token.repeat){capture+="(?:"+prefix+capture+")*"}if(token.optional){if(prefix){capture="(?:"+prefix+"("+capture+"))?"}else{capture="("+capture+")?"}}else{capture=prefix+"("+capture+")"}route+=capture}}if(!strict){route=(endsWithSlash?route.slice(0,-2):route)+"(?:\\/(?=$))?"}if(end){route+="$"}else{route+=strict&&endsWithSlash?"":"(?=\\/|$)"}return new RegExp("^"+route,flags(options))}function pathToRegexp(path,keys,options){keys=keys||[];if(!isarray(keys)){options=keys;keys=[]}else if(!options){options={}}if(path instanceof RegExp){return regexpToRegexp(path,keys,options)}if(isarray(path)){return arrayToRegexp(path,keys,options)}return stringToRegexp(path,keys,options)}},{isarray:4}],4:[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}]},{},[1])(1)});"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AreaModel=function(){function AreaModel(initRoutes){_classCallCheck(this,AreaModel);this.contentEl=document.getElementById("content-holder");this.pageTitle=document.title.split(" | ")[0];this.curPath=null;this.prevPath=null;this.queuedPath=null;this.curAreaObj=null;this.cachedResponses={};this.isTransitioning=false;this.easyScroll=new EasyScroll;this.initFirstSection();initRoutes(this.index.bind(this))}_createClass(AreaModel,[{key:"index",value:function index(){if(!this.isTransitioning){this.curPath=page.current;if(this.curPath==""||this.curPath=="/")this.curPath="/home";if(this.curPath!==this.prevPath){if(this.prevPath&&this.prevPath.length>1){var pathSplit=this.prevPath.substr(1).split("/");if(pathSplit.length>0)document.body.classList.remove("section-"+pathSplit[0]);if(pathSplit.length>1)document.body.classList.remove("subsection-"+pathSplit[1])}if(this.curPath.length>1){var _pathSplit=this.curPath.substr(1).split("/");if(_pathSplit.length>0)document.body.classList.add("section-"+_pathSplit[0]);if(_pathSplit.length>1)document.body.classList.add("subsection-"+_pathSplit[1])}if(window.scrollY>20){this.easyScroll.scrollByY(300,window.scrollY)}this.exitCurSection();return document.title=this.formatDocumentTitle()}}else{return this.queuedPath=page.current}}},{key:"initFirstSection",value:function initFirstSection(){return this.createMainContentObj(this.contentEl.children[0],false)}},{key:"exitCurSection",value:function exitCurSection(){var _this=this;this.isTransitioning=true;if(this.contentEl.children.length>0){document.body.classList.add("hiding-content");return setTimeout(function(){return _this.contentHidden()},300)}else{return this.contentHidden()}}},{key:"contentHidden",value:function contentHidden(){var ref=void 0;if((ref=this.curAreaObj)!=null){ref.dispose()}this.curAreaObj=null;return this.loadAjaxContent(this.curPath)}},{key:"loadAjaxContent",value:function loadAjaxContent(path){if(path.length>1&&path[path.length-1]==="/"){path=path.substr(0,path.length-1)}if(typeof this.cachedResponses[path]!=="undefined"){this.sectionDataLoaded(this.cachedResponses[path],path)}else{this.fetchPage(path)}}},{key:"fetchPage",value:function fetchPage(path){var _this2=this;fetch(path,{method:"POST",body:{}}).then(function(response){return response.text()}).then(function(data){_this2.sectionDataLoaded(data,path)}).catch(function(ex){console.warn("Fetch failed",ex)})}},{key:"sectionDataLoaded",value:function sectionDataLoaded(data,path){this.cachedResponses[path]=data;this.createMainContentObj(data,true);this.showNewContent()}},{key:"createMainContentObj",value:function createMainContentObj(data,replaceContent){var newContentEl;if(typeof data==="string"){newContentEl=this.stringToDomElement(data)}else{newContentEl=data}var pageType=newContentEl.getAttribute("data-view-type")||"BaseView";if(replaceContent===true){this.contentEl.innerHTML=data}this.curAreaObj=new window[pageType](this.contentEl)}},{key:"showNewContent",value:function showNewContent(){document.body.classList.remove("hiding-content");this.prevPath=this.curPath;this.isTransitioning=false;if(this.queuedPath){this.queuedPath=null;this.index()}}},{key:"stringToDomElement",value:function stringToDomElement(str){var div=document.createElement("div");div.innerHTML=str;return div.children[0]}},{key:"formatDocumentTitle",value:function formatDocumentTitle(){var titleParts=this.curPath.split("/");var i=0;while(i<titleParts.length){var subParts=titleParts[i].split("-");var j=0;while(j<subParts.length){subParts[j]=this.toTitleCase(subParts[j]);j++}titleParts[i]=subParts.join(" ");i++}if(this.curPath!=="/"){return this.pageTitle+" "+titleParts.join(" | ")}else{return this.pageTitle}}},{key:"toTitleCase",value:function toTitleCase(str){return str.substr(0,1).toUpperCase()+str.substr(1).toLowerCase()}}]);return AreaModel}();"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BaseView=function(){function BaseView(el){_classCallCheck(this,BaseView);this.el=el;this.findLightboxImages();var mediaServices=[window.embetter.services.youtube,window.embetter.services.vimeo,window.embetter.services.soundcloud,window.embetter.services.instagram,window.embetter.services.dailymotion,window.embetter.services.codepen,window.embetter.services.shadertoy,window.embetter.services.video,window.embetter.services.gif];window.embetter.utils.initMediaPlayers(this.el,mediaServices);this.buildShareLinks();this.buildContactForm()}_createClass(BaseView,[{key:"findLightboxImages",value:function findLightboxImages(){var _this=this;this.lightboxDiv=null;this.lightboxImgSrc=null;this.lightboxImageLoader=null;this.lightboxLinks=null;this.lightboxLinks=this.el.querySelectorAll("a[rel]");for(var i=0;i<this.lightboxLinks.length;i++){this.lightboxLinks[i].addEventListener("click",function(e){return _this.handleLightboxLink(e)})}}},{key:"handleLightboxLink",value:function handleLightboxLink(e){e.preventDefault();var clickedEl=e.target;while(clickedEl.nodeName.toLowerCase()!=="a"){clickedEl=clickedEl.parentNode}this.lightboxImgSrc=clickedEl.href;this.lightboxImageLoader=new Image;this.lightboxImageLoader.onload=this.lightboxImageLoaded;this.lightboxImageLoader.src=this.lightboxImgSrc}},{key:"lightboxImageLoaded",value:function lightboxImageLoaded(){var _this2=this;var containedClass=this.lightboxImageLoader.height<window.innerHeight-40&&this.lightboxImageLoader.width<window.innerWidth-40?"lightbox-image-contained":"";this.lightboxDiv=document.createElement("div");this.lightboxDiv.className="lightbox";this.lightboxDiv.innerHTML='<div class="lightbox-image-holder '+containedClass+'" style="background-image:url('+this.lightboxImgSrc+')"></div>';document.body.appendChild(this.lightboxDiv);requestAnimationFrame(function(){this.lightboxDiv.className="lightbox";requestAnimationFrame(function(){this.lightboxDiv.className="lightbox showing"})});this.lightboxDiv.addEventListener("click",function(e){return _this2.hideLightbox(e)});document.addEventListener("keyup",function(e){return _this2.hideLightbox(e)})}},{key:"hideLightbox",value:function hideLightbox(e){var _this3=this;if(e.keyCode==null||e.keyCode==0||e.keyCode==27){this.lightboxDiv.removeEventListener("click",function(e){return _this3.hideLightbox(e)});document.removeEventListener("keyup",function(e){return _this3.hideLightbox(e)});this.lightboxDiv.className="lightbox";setTimeout(function(){document.body.removeChild(this.lightboxDiv)},300)}}},{key:"disposeLightboxLinks",value:function disposeLightboxLinks(){var _this4=this;if(this.lightboxLinks!=null){for(var i=0;i<this.lightboxLinks.length;i++){this.lightboxLinks[i].removeEventListener("click",function(e){return _this4.handleLightboxLink(e)})}}}},{key:"buildShareLinks",value:function buildShareLinks(){var shareEl=this.el.querySelector(".share-out-links");if(shareEl!==null){var titleEl=this.el.querySelector("h2");var summary=titleEl!==null?titleEl.textContent:"";var firstImg=this.el.querySelector("img");var img=firstImg!==null?firstImg.src:"";window.shareout.setShareLinks(shareEl,document.location.href,summary,img)}}},{key:"disposeShareLinks",value:function disposeShareLinks(){var shareEl=this.el.querySelector(".share-out-links");if(shareEl!==null){window.shareout.disposeShareLinks(shareEl)}}},{key:"buildContactForm",value:function buildContactForm(){var _this5=this;this.contactForm=null;this.submitButton=null;this.emailInput=null;this.aboutInput=null;this.messageInput=null;this.contactForm=this.el.querySelector("#contactform");if(this.contactForm!==null){this.emailInput=document.getElementById("email");this.aboutInput=document.getElementById("about");this.messageInput=document.getElementById("message");this.submitButton=this.el.querySelector("#contact-submit");this.submitButton.addEventListener("click",function(e){return _this5.submitForm(e)});var emailLink=document.getElementById("email-button");var emailAddy="test"+"@"+"user"+"."+"com";emailLink.href="mailto:"+emailAddy;emailLink.innerHTML=emailAddy}}},{key:"submitForm",value:function submitForm(e){if(this.validateForm()===true){this.submitButton.setAttribute("disabled","disabled");document.body.classList.add("loading");window.reqwest({url:"php/"+"mail/cachemail."+"p"+"hp",method:"post",data:{email:this.emailInput.value,about:this.aboutInput.value,message:this.messageInput.value},success:function success(data){this.insertContactResponse(data)},complete:function complete(data){document.body.classList.remove("loading")}})}}},{key:"insertContactResponse",value:function insertContactResponse(html){this.contactForm.innerHTML=html}},{key:"disposeContactForm",value:function disposeContactForm(){var _this6=this;if(this.submitButton===null)return;this.submitButton.removeEventListener("click",function(e){return _this6.submitForm(e)})}},{key:"validateForm",value:function validateForm(){if(this.isValidEmail(this.emailInput.value)===false){alert("Please enter a valid email");this.emailInput.focus();return false}if(document.getElementById("message").value.length===0){alert("Please enter a message");this.messageInput.focus();return false}return true}},{key:"isValidEmail",value:function isValidEmail(email){var emailRegex=new RegExp(/^[+\w.-]+@\w[\w.-]+\.[\w.-]*[a-z][a-z]$/i);return emailRegex.test(email)}},{key:"validateEmail",value:function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}},{key:"dispose",value:function dispose(){this.disposeLightboxLinks();this.disposeShareLinks();this.disposeContactForm();window.embetter.utils.disposePlayers()}}]);return BaseView}();window.BaseView=BaseView;"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var AreaCommon=function(_BaseView){_inherits(AreaCommon,_BaseView);function AreaCommon(el){_classCallCheck(this,AreaCommon);var _this=_possibleConstructorReturn(this,(AreaCommon.__proto__||Object.getPrototypeOf(AreaCommon)).call(this,el));console.log("custom view!");return _this}return AreaCommon}(BaseView);window.AreaCommon=AreaCommon;"use strict";var areaModel=new AreaModel(function(index){page("",index);page("/",index);page("/:section",index);page("/:section/:id",index);page("/:section/:id/:params",index);page("/music",function(){page.redirect("/music/discography")});page()});